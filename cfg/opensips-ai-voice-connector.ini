[opensips]
# Docker container configuration - MI Interface (Dynamic)
# OpenSIPS service hostname kullanılır (Docker service discovery)
mi_transport = datagram
host = opensips
ip = opensips
port = 8087

[engine]
# Bind on all interfaces for event subscriptions
event_ip = 0.0.0.0
event_port = 8090
# SIP listener configuration
sip_ip = 0.0.0.0
sip_port = 8089

[sip]
# SIP configuration for Docker environment
# Container hostname kullanılır
host = opensips-ai-voice-connector
port = 8089

[rtp]
min_port = 35000
max_port = 35020
bind_ip = 0.0.0.0
# Docker host IP - client'ların erişebileceği IP  
# Client IP: 192.168.88.1, so host likely in same subnet
ip = 192.168.88.120

# AI Services Configuration - Docker container network
[llm]
url = ws://llm-turkish-server:8765
model = llama3.2:3b-instruct-turkish
timeout = 4.0
stream = true
temperature = 0.2
top_p = 0.7
max_tokens = 80

[stt]
url = ws://vosk-server:2700
channels = 1
send_eof = true
sample_rate = 16000
model = vosk-model-tr

[tts]
url = ws://piper-tts-server:8000/tts
host = piper-tts-server
port = 8000
voice = tr_TR-dfki-medium
sample_rate = 22050

# Deprecated services (disabled)
[deepgram]
disabled = true

[openai]
disabled = true

[general]
logfile = vosk_connector.log
loglevel = INFO

[ai]
type = vosk
flavor = pipecat
model = default

[azure]
# Present in previous version and implied disabled at bottom of image
disabled = true

[audio]
sample_rate = 16000
chunk_size = 160
format = pcm16

[pipeline]
vad_threshold = 0.5
stt_timeout = 5.0
llm_timeout = 10.0
tts_timeout = 5.0
enable_interruption = true
interruption_min_words = 2
interruption_volume_threshold = 0.6

[logging]
level = DEBUG
format = structured

[interruption]
enabled = true
min_words_strategy = 2
volume_threshold = 0.6
volume_duration_ms = 300

[VAD]
# Voice Activity Detection settings
enabled = true
min_silence_ms = 500
min_speech_ms = 250
# 16-bit PCM'de 0.01'e denk gelir (32767 * 0.01)
speech_threshold = 327.68 
# Türkçe için optimize edilmiş parametreler
turkish_optimized = true

[RTP]
# RTP port range for development
min_port = 35000
max_port = 35100
# IP address to bind RTP listeners to (0.0.0.0 for all interfaces)
bind_ip = 0.0.0.0
# IP address to advertise in SDP - client'ların erişebileceği IP
ip = 192.168.88.120